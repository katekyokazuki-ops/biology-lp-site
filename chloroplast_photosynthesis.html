<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>#12 ç¢ºèªãƒ†ã‚¹ãƒˆï½œè‘‰ç·‘ä½“ãƒ»åŒåŒ–ãƒ»å…‰åˆæˆè‰²ç´ ï¼ˆè„±ãƒ»æš—è¨˜ï¼‰</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Helvetica Neue', Arial, 'Hiragino Kaku Gothic ProN', 'Hiragino Sans', Meiryo, sans-serif;
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 50%, #7e8ba3 100%);
            min-height: 100vh;
            padding: 20px;
            line-height: 1.6;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }
        
        .header {
            text-align: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 3px solid #2ecc71;
        }
        
        .header h1 {
            color: #2c3e50;
            font-size: 28px;
            margin-bottom: 10px;
        }
        
        .header .subtitle {
            color: #7f8c8d;
            font-size: 16px;
            margin-bottom: 15px;
        }
        
        .header .theme {
            display: inline-block;
            background: linear-gradient(135deg, #27ae60, #2ecc71);
            color: white;
            padding: 8px 20px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: bold;
        }
        
        .progress-container {
            margin-bottom: 30px;
            background: #ecf0f1;
            border-radius: 10px;
            padding: 15px;
        }
        
        .progress-bar {
            background: #bdc3c7;
            height: 20px;
            border-radius: 10px;
            overflow: hidden;
            margin-bottom: 10px;
        }
        
        .progress-fill {
            background: linear-gradient(90deg, #27ae60, #2ecc71);
            height: 100%;
            width: 0%;
            transition: width 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 12px;
            font-weight: bold;
        }
        
        .progress-text {
            text-align: center;
            color: #2c3e50;
            font-size: 14px;
        }
        
        .question-card {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 20px;
            border-left: 5px solid #27ae60;
        }
        
        .question-number {
            color: #27ae60;
            font-weight: bold;
            font-size: 14px;
            margin-bottom: 10px;
        }
        
        .question-text {
            color: #2c3e50;
            font-size: 18px;
            margin-bottom: 20px;
            font-weight: 500;
        }
        
        .options {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }
        
        .option {
            background: white;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            padding: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
        }
        
        .option:hover {
            border-color: #27ae60;
            transform: translateX(5px);
        }
        
        .option input[type="radio"] {
            margin-right: 12px;
            cursor: pointer;
            width: 20px;
            height: 20px;
        }
        
        .option label {
            cursor: pointer;
            flex: 1;
            color: #2c3e50;
        }
        
        .option.correct {
            background: #d4edda;
            border-color: #27ae60;
        }
        
        .option.incorrect {
            background: #f8d7da;
            border-color: #e74c3c;
        }
        
        .explanation {
            background: #e8f5e9;
            border-left: 4px solid #27ae60;
            border-radius: 8px;
            padding: 15px;
            margin-top: 15px;
            display: none;
        }
        
        .explanation.show {
            display: block;
        }
        
        .explanation-title {
            color: #27ae60;
            font-weight: bold;
            margin-bottom: 8px;
            font-size: 14px;
        }
        
        .explanation-text {
            color: #2c3e50;
            font-size: 14px;
            line-height: 1.6;
        }
        
        .button-container {
            display: flex;
            gap: 15px;
            margin-top: 30px;
        }
        
        .btn {
            flex: 1;
            padding: 15px;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, #27ae60, #2ecc71);
            color: white;
        }
        
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(39, 174, 96, 0.3);
        }
        
        .btn-secondary {
            background: #95a5a6;
            color: white;
        }
        
        .btn-secondary:hover {
            background: #7f8c8d;
        }
        
        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        .result-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 15px;
            padding: 30px;
            text-align: center;
            color: white;
            display: none;
        }
        
        .result-card.show {
            display: block;
        }
        
        .result-score {
            font-size: 48px;
            font-weight: bold;
            margin: 20px 0;
        }
        
        .result-message {
            font-size: 20px;
            margin-bottom: 20px;
        }
        
        .result-detail {
            font-size: 16px;
            margin-bottom: 30px;
            opacity: 0.9;
        }
        
        @media (max-width: 600px) {
            .container {
                padding: 20px;
            }
            
            .header h1 {
                font-size: 22px;
            }
            
            .question-text {
                font-size: 16px;
            }
            
            .button-container {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>#12 ç¢ºèªãƒ†ã‚¹ãƒˆï½œè‘‰ç·‘ä½“ãƒ»åŒåŒ–ãƒ»å…‰åˆæˆè‰²ç´ </h1>
            <div class="subtitle">é«˜æ ¡ç”Ÿç‰©å‹•ç”»ã‚·ãƒªãƒ¼ã‚º</div>
            <div class="theme">è„±ãƒ»æš—è¨˜ï¼ç†è§£ã™ã‚‹å…‰åˆæˆ</div>
        </div>
        
        <div class="progress-container">
            <div class="progress-bar">
                <div class="progress-fill" id="progressBar">0%</div>
            </div>
            <div class="progress-text" id="progressText">å•é¡Œ 0 / 10</div>
        </div>
        
        <div id="quizContainer"></div>
        
        <div class="button-container">
            <button class="btn btn-secondary" id="prevBtn" onclick="previousQuestion()" disabled>å‰ã®å•é¡Œ</button>
            <button class="btn btn-primary" id="nextBtn" onclick="nextQuestion()">æ¬¡ã®å•é¡Œ</button>
            <button class="btn btn-primary" id="submitBtn" onclick="submitQuiz()" style="display:none;">æ¡ç‚¹ã™ã‚‹</button>
        </div>
        
        <div class="result-card" id="resultCard">
            <h2>ãƒ†ã‚¹ãƒˆçµæœ</h2>
            <div class="result-score" id="resultScore"></div>
            <div class="result-message" id="resultMessage"></div>
            <div class="result-detail" id="resultDetail"></div>
            <button class="btn btn-primary" onclick="retryQuiz()">ã‚‚ã†ä¸€åº¦æŒ‘æˆ¦</button>
        </div>
    </div>

    <script>
        const questions = [
            {
                question: "ä»£è¬ã«ãŠã‘ã‚‹ã€ŒåŒåŒ–ã€ã®èª¬æ˜ã¨ã—ã¦æ­£ã—ã„ã‚‚ã®ã¯ã©ã‚Œã‹ã€‚",
                options: [
                    "è¤‡é›‘ãªç‰©è³ªã‚’åˆ†è§£ã—ã¦ã‚¨ãƒãƒ«ã‚®ãƒ¼ã‚’å–ã‚Šå‡ºã™éç¨‹",
                    "å˜ç´”ãªç‰©è³ªã‹ã‚‰è¤‡é›‘ãªç‰©è³ªã‚’åˆæˆã™ã‚‹éç¨‹",
                    "ATPã‚’ç”£ç”Ÿã™ã‚‹éç¨‹",
                    "é…¸åŒ–åå¿œã«ã‚ˆã£ã¦é›»å­ã‚’å¤±ã†éç¨‹"
                ],
                correct: 1,
                explanation: "åŒåŒ–(Anabolism)ã¯ã€å˜ç´”ãªç‰©è³ªã‹ã‚‰è¤‡é›‘ãªç‰©è³ªã‚’åˆæˆã™ã‚‹éç¨‹ã§ã™ã€‚ã‚¨ãƒãƒ«ã‚®ãƒ¼ã‚’å¸åã—ã€ATPã‚’æ¶ˆè²»ã—ã€é‚„å…ƒåå¿œï¼ˆé›»å­ã‚’å¾—ã‚‹ï¼‰ãŒèµ·ã“ã‚Šã¾ã™ã€‚ä¾‹ï¼šå…‰åˆæˆã€ã‚¿ãƒ³ãƒ‘ã‚¯è³ªåˆæˆãªã©ã€‚"
            },
            {
                question: "å…‰åˆæˆã«ãŠã‘ã‚‹é›»å­ã®å‹•ãã¨ã—ã¦æ­£ã—ã„ã‚‚ã®ã¯ã©ã‚Œã‹ã€‚",
                options: [
                    "COâ‚‚ã¯é…¸åŒ–ã•ã‚Œã¦ã‚°ãƒ«ã‚³ãƒ¼ã‚¹ã«ãªã‚‹",
                    "COâ‚‚ã¯é‚„å…ƒã•ã‚Œã¦ã‚°ãƒ«ã‚³ãƒ¼ã‚¹ã«ãªã‚‹",
                    "ã‚°ãƒ«ã‚³ãƒ¼ã‚¹ã¯é‚„å…ƒã•ã‚Œã¦COâ‚‚ã«ãªã‚‹",
                    "Hâ‚‚Oã¯é‚„å…ƒã•ã‚Œã¦Oâ‚‚ã«ãªã‚‹"
                ],
                correct: 1,
                explanation: "å…‰åˆæˆã¯å·¨å¤§ãªé‚„å…ƒåå¿œã§ã™ã€‚COâ‚‚ï¼ˆç‚­ç´ ãŒ+4ä¾¡ã®é…¸åŒ–çŠ¶æ…‹ï¼‰ãŒé‚„å…ƒã•ã‚Œã¦ã€ã‚°ãƒ«ã‚³ãƒ¼ã‚¹ï¼ˆç‚­ç´ ãŒ0ä¾¡ï¼‰ã«ãªã‚Šã¾ã™ã€‚ã¤ã¾ã‚Šã€COâ‚‚ãŒé›»å­ã‚’å¾—ã¦é‚„å…ƒã•ã‚Œã‚‹éç¨‹ãŒå…‰åˆæˆã®æœ¬è³ªã§ã™ã€‚"
            },
            {
                question: "è‘‰ç·‘ä½“ã®ã€Œã‚¹ãƒˆãƒ­ãƒã€ã§ä¸»ã«é€²è¡Œã™ã‚‹åå¿œã¯ã©ã‚Œã‹ã€‚",
                options: [
                    "æ°´ã®å…‰åˆ†è§£",
                    "æ˜åå¿œï¼ˆå…‰åŒ–å­¦åå¿œï¼‰",
                    "æš—åå¿œï¼ˆã‚«ãƒ«ãƒ“ãƒ³å›è·¯ï¼‰",
                    "ATPåˆæˆé…µç´ ã«ã‚ˆã‚‹ATPç”Ÿæˆ"
                ],
                correct: 2,
                explanation: "ã‚¹ãƒˆãƒ­ãƒã¯è‘‰ç·‘ä½“ã®å†…è†œã®å†…å´ã«ã‚ã‚‹æ¶²çŠ¶åŸºè³ªã§ã€æš—åå¿œï¼ˆã‚«ãƒ«ãƒ“ãƒ³å›è·¯ï¼‰ãŒé€²è¡Œã™ã‚‹å ´æ‰€ã§ã™ã€‚RuBisCOãªã©ã®é…µç´ ãŒå«ã¾ã‚Œã€COâ‚‚ã‚’å›ºå®šã—ã¦ã‚°ãƒ«ã‚³ãƒ¼ã‚¹ã‚’åˆæˆã—ã¾ã™ã€‚æ˜åå¿œã¯ãƒãƒ©ã‚³ã‚¤ãƒ‰è†œã§é€²è¡Œã—ã¾ã™ã€‚"
            },
            {
                question: "ãƒãƒ©ã‚³ã‚¤ãƒ‰ãŒä½•å±¤ã«ã‚‚ç©ã¿é‡ãªã£ãŸæ§‹é€ ã‚’ä½•ã¨ã„ã†ã‹ã€‚",
                options: [
                    "ã‚¹ãƒˆãƒ­ãƒ",
                    "ã‚°ãƒ©ãƒŠ",
                    "ã‚¯ãƒªã‚¹ãƒ†",
                    "ãƒãƒˆãƒªãƒƒã‚¯ã‚¹"
                ],
                correct: 1,
                explanation: "ã‚°ãƒ©ãƒŠ(Grana)ã¯ã€ãƒãƒ©ã‚³ã‚¤ãƒ‰ãŒä½•å±¤ã«ã‚‚ç©ã¿é‡ãªã£ãŸæ§‹é€ ã§ã™ï¼ˆå˜æ•°å½¢ã¯granumï¼‰ã€‚é€šå¸¸10ã€œ20æšç¨‹åº¦ãŒç©å±¤ã—ã€å…‰ã®å¸ååŠ¹ç‡ã‚’é«˜ã‚ã‚‹ï¼ˆè¡¨é¢ç©ãŒå¤§ãããªã‚‹ï¼‰å½¹å‰²ãŒã‚ã‚Šã¾ã™ã€‚"
            },
            {
                question: "è‘‰ç·‘ä½“ã¨ãƒŸãƒˆã‚³ãƒ³ãƒ‰ãƒªã‚¢ã®å…±é€šç‚¹ã¨ã—ã¦èª¤ã£ã¦ã„ã‚‹ã‚‚ã®ã¯ã©ã‚Œã‹ã€‚",
                options: [
                    "äºŒé‡è†œæ§‹é€ ã‚’æŒã¤",
                    "ç‹¬è‡ªã®DNAã‚’æŒã¤",
                    "Hâºå‹¾é…ã‚’åˆ©ç”¨ã—ã¦ATPã‚’åˆæˆã™ã‚‹",
                    "ä¸¡æ–¹ã¨ã‚‚æ˜åå¿œãŒé€²è¡Œã™ã‚‹"
                ],
                correct: 3,
                explanation: "è‘‰ç·‘ä½“ã¨ãƒŸãƒˆã‚³ãƒ³ãƒ‰ãƒªã‚¢ã¯å¤šãã®å…±é€šç‚¹ï¼ˆäºŒé‡è†œã€ç‹¬è‡ªDNAã€ç‹¬è‡ªãƒªãƒœã‚½ãƒ¼ãƒ ã€Hâºå‹¾é…ã‚’åˆ©ç”¨ã—ãŸATPåˆæˆï¼‰ãŒã‚ã‚Šã¾ã™ãŒã€æ˜åå¿œãŒé€²è¡Œã™ã‚‹ã®ã¯è‘‰ç·‘ä½“ã®ã¿ã§ã™ã€‚ã“ã‚Œã‚‰ã®é¡ä¼¼æ€§ã¯ç´°èƒå†…å…±ç”Ÿèª¬ã§èª¬æ˜ã•ã‚Œã¾ã™ã€‚"
            },
            {
                question: "å…‰åŒ–å­¦ç³»ã®åå¿œä¸­å¿ƒè‰²ç´ ã¨ã—ã¦åƒãã®ã¯ã©ã‚Œã‹ã€‚",
                options: [
                    "ã‚¯ãƒ­ãƒ­ãƒ•ã‚£ãƒ«b",
                    "ã‚¯ãƒ­ãƒ­ãƒ•ã‚£ãƒ«a",
                    "ã‚«ãƒ­ãƒ†ãƒ³",
                    "ã‚­ã‚µãƒ³ãƒˆãƒ•ã‚£ãƒ«"
                ],
                correct: 1,
                explanation: "ã‚¯ãƒ­ãƒ­ãƒ•ã‚£ãƒ«a(Chlorophyll a)ã¯å…‰åŒ–å­¦ç³»Iãƒ»IIã®åå¿œä¸­å¿ƒè‰²ç´ ï¼ˆP700, P680ï¼‰ã¨ã—ã¦åƒãã¾ã™ã€‚å…‰ã‚¨ãƒãƒ«ã‚®ãƒ¼ã‚’ç›´æ¥åˆ©ç”¨ã—ã¦é›»å­ã‚’æ”¾å‡ºã™ã‚‹ä¸»è¦è‰²ç´ ã§ã€ã™ã¹ã¦ã®å…‰åˆæˆç”Ÿç‰©ã«å­˜åœ¨ã—ã¾ã™ã€‚"
            },
            {
                question: "ã‚«ãƒ­ãƒ†ãƒã‚¤ãƒ‰ã®å½¹å‰²ã¨ã—ã¦èª¤ã£ã¦ã„ã‚‹ã‚‚ã®ã¯ã©ã‚Œã‹ã€‚",
                options: [
                    "é’ç·‘å…‰ã‚’å¸åã—ã¦ã‚¯ãƒ­ãƒ­ãƒ•ã‚£ãƒ«ã«ä¼é”ã™ã‚‹",
                    "æ´»æ€§é…¸ç´ ã‚’é™¤å»ã™ã‚‹å…‰ä¿è­·ä½œç”¨",
                    "å…‰åŒ–å­¦ç³»ã®åå¿œä¸­å¿ƒè‰²ç´ ã¨ã—ã¦åƒã",
                    "ç§‹ã«è‘‰ãŒé»„è‰²ã‚„èµ¤ã«ãªã‚‹ã®ã¯ã‚«ãƒ­ãƒ†ãƒã‚¤ãƒ‰ãŒè¦‹ãˆã‚‹ãŸã‚"
                ],
                correct: 2,
                explanation: "ã‚«ãƒ­ãƒ†ãƒã‚¤ãƒ‰ï¼ˆã‚«ãƒ­ãƒ†ãƒ³ãƒ»ã‚­ã‚µãƒ³ãƒˆãƒ•ã‚£ãƒ«ï¼‰ã¯è£œåŠ©è‰²ç´ ã¨ã—ã¦å…‰ã‚’é›†ã‚ã¦ã‚¯ãƒ­ãƒ­ãƒ•ã‚£ãƒ«ã«ä¼é”ã—ã€å…‰ä¿è­·ä½œç”¨ï¼ˆæ´»æ€§é…¸ç´ é™¤å»ï¼‰ã‚‚æŒã¡ã¾ã™ãŒã€åå¿œä¸­å¿ƒè‰²ç´ ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚åå¿œä¸­å¿ƒè‰²ç´ ã¯ã‚¯ãƒ­ãƒ­ãƒ•ã‚£ãƒ«aã®ã¿ã§ã™ã€‚"
            },
            {
                question: "ã‚¯ãƒ­ãƒ­ãƒ•ã‚£ãƒ«ã®åˆ†å­æ§‹é€ ã¨ã—ã¦æ­£ã—ã„çµ„ã¿åˆã‚ã›ã¯ã©ã‚Œã‹ã€‚",
                options: [
                    "ãƒãƒ«ãƒ•ã‚£ãƒªãƒ³ç’° + FeÂ²âº + è¦ªæ°´æ€§å°¾éƒ¨",
                    "ãƒãƒ«ãƒ•ã‚£ãƒªãƒ³ç’° + MgÂ²âº + ç–æ°´æ€§å°¾éƒ¨ï¼ˆãƒ•ã‚£ãƒˆãƒ¼ãƒ«é–ï¼‰",
                    "å…±å½¹äºŒé‡çµåˆ + CuÂ²âº + ç–æ°´æ€§å°¾éƒ¨",
                    "ãƒ”ãƒ­ãƒ¼ãƒ«ç’° + CaÂ²âº + è¦ªæ°´æ€§å°¾éƒ¨"
                ],
                correct: 1,
                explanation: "ã‚¯ãƒ­ãƒ­ãƒ•ã‚£ãƒ«ã¯ã€â‘ ãƒãƒ«ãƒ•ã‚£ãƒªãƒ³ç’°ï¼ˆ4ã¤ã®ãƒ”ãƒ­ãƒ¼ãƒ«ç’°ãŒç’°çŠ¶ã«ã¤ãªãŒã£ãŸæ§‹é€ ï¼‰ã€â‘¡ä¸­å¿ƒã«MgÂ²âºï¼ˆãƒã‚°ãƒã‚·ã‚¦ãƒ ã‚¤ã‚ªãƒ³ï¼‰ã€â‘¢ç–æ°´æ€§ã®ãƒ•ã‚£ãƒˆãƒ¼ãƒ«é–ï¼ˆé•·ã„ç‚­åŒ–æ°´ç´ ã®å°¾ï¼‰ã®3ã¤ã®éƒ¨åˆ†ã‹ã‚‰æ§‹æˆã•ã‚Œã¾ã™ã€‚"
            },
            {
                question: "ãªãœæ¤ç‰©ã¯ç·‘è‰²ã«è¦‹ãˆã‚‹ã®ã‹ã€‚æ­£ã—ã„èª¬æ˜ã¯ã©ã‚Œã‹ã€‚",
                options: [
                    "ã‚¯ãƒ­ãƒ­ãƒ•ã‚£ãƒ«ãŒç·‘è‰²å…‰ã‚’å¼·ãå¸åã™ã‚‹ã‹ã‚‰",
                    "ã‚¯ãƒ­ãƒ­ãƒ•ã‚£ãƒ«ãŒç·‘è‰²å…‰ã‚’ã»ã¨ã‚“ã©å¸åã›ãšåå°„ã™ã‚‹ã‹ã‚‰",
                    "ã‚«ãƒ­ãƒ†ãƒã‚¤ãƒ‰ãŒç·‘è‰²å…‰ã‚’å¼·ãå¸åã™ã‚‹ã‹ã‚‰",
                    "è‘‰ç·‘ä½“ã®æ§‹é€ ãŒç·‘è‰²ã«è¦‹ãˆã‚‹ã‹ã‚‰"
                ],
                correct: 1,
                explanation: "ã‚¯ãƒ­ãƒ­ãƒ•ã‚£ãƒ«ã¯é’è‰²å…‰ï¼ˆ430nmä»˜è¿‘ï¼‰ã¨èµ¤è‰²å…‰ï¼ˆ663nmä»˜è¿‘ï¼‰ã‚’å¼·ãå¸åã—ã¾ã™ãŒã€ç·‘è‰²å…‰ï¼ˆ500-600nmï¼‰ã¯ã»ã¨ã‚“ã©å¸åã—ã¾ã›ã‚“ã€‚å¸åã•ã‚Œãªã„ç·‘è‰²å…‰ãŒåå°„ãƒ»é€éã•ã‚Œã‚‹ãŸã‚ã€æ¤ç‰©ã¯ç·‘è‰²ã«è¦‹ãˆã¾ã™ã€‚"
            },
            {
                question: "å¸åã‚¹ãƒšã‚¯ãƒˆãƒ«ã¨ä½œç”¨ã‚¹ãƒšã‚¯ãƒˆãƒ«ãŒã»ã¼ä¸€è‡´ã™ã‚‹ã“ã¨ã‹ã‚‰åˆ†ã‹ã‚‹ã“ã¨ã¯ä½•ã‹ã€‚",
                options: [
                    "å¸åã•ã‚ŒãŸå…‰ã‚¨ãƒãƒ«ã‚®ãƒ¼ãŒã™ã¹ã¦ç†±ã«ãªã£ã¦ã„ã‚‹",
                    "å¸åã•ã‚ŒãŸå…‰ã‚¨ãƒãƒ«ã‚®ãƒ¼ãŒå®Ÿéš›ã«å…‰åˆæˆã«ä½¿ã‚ã‚Œã¦ã„ã‚‹",
                    "æ¤ç‰©ã¯ç·‘è‰²å…‰ã—ã‹åˆ©ç”¨ã§ããªã„",
                    "ã‚«ãƒ­ãƒ†ãƒã‚¤ãƒ‰ã¯å…‰åˆæˆã«é–¢ä¸ã—ã¦ã„ãªã„"
                ],
                correct: 1,
                explanation: "å¸åã‚¹ãƒšã‚¯ãƒˆãƒ«ï¼ˆå„è‰²ç´ ãŒå¸åã™ã‚‹æ³¢é•·ï¼‰ã¨ä½œç”¨ã‚¹ãƒšã‚¯ãƒˆãƒ«ï¼ˆå…‰åˆæˆé€Ÿåº¦ã«å¯„ä¸ã™ã‚‹æ³¢é•·ï¼‰ãŒã»ã¼ä¸€è‡´ã™ã‚‹ã“ã¨ã¯ã€ã€Œå¸åã•ã‚ŒãŸå…‰ã‚¨ãƒãƒ«ã‚®ãƒ¼ãŒå®Ÿéš›ã«å…‰åˆæˆã«ä½¿ã‚ã‚Œã¦ã„ã‚‹ã€è¨¼æ‹ ã§ã™ã€‚ã‚¨ãƒ³ã‚²ãƒ«ãƒãƒ³ã®å®Ÿé¨“ï¼ˆ1882å¹´ï¼‰ã§ã‚‚å®Ÿè¨¼ã•ã‚Œã¾ã—ãŸã€‚"
            }
        ];

        let currentQuestion = 0;
        let userAnswers = new Array(questions.length).fill(null);
        let quizSubmitted = false;

        function initQuiz() {
            renderQuestion();
            updateProgress();
            updateButtons();
        }

        function renderQuestion() {
            const container = document.getElementById('quizContainer');
            const q = questions[currentQuestion];
            
            let optionsHTML = '';
            q.options.forEach((option, index) => {
                const isChecked = userAnswers[currentQuestion] === index ? 'checked' : '';
                const isCorrect = quizSubmitted && index === q.correct;
                const isIncorrect = quizSubmitted && userAnswers[currentQuestion] === index && index !== q.correct;
                const optionClass = isCorrect ? 'correct' : (isIncorrect ? 'incorrect' : '');
                
                optionsHTML += `
                    <div class="option ${optionClass}">
                        <input type="radio" 
                               id="option${index}" 
                               name="answer" 
                               value="${index}"
                               ${isChecked}
                               ${quizSubmitted ? 'disabled' : ''}
                               onchange="selectAnswer(${index})">
                        <label for="option${index}">${option}</label>
                    </div>
                `;
            });
            
            const explanationClass = quizSubmitted ? 'show' : '';
            
            container.innerHTML = `
                <div class="question-card">
                    <div class="question-number">å•é¡Œ ${currentQuestion + 1} / ${questions.length}</div>
                    <div class="question-text">${q.question}</div>
                    <div class="options">
                        ${optionsHTML}
                    </div>
                    <div class="explanation ${explanationClass}">
                        <div class="explanation-title">ğŸ“– è§£èª¬</div>
                        <div class="explanation-text">${q.explanation}</div>
                    </div>
                </div>
            `;
        }

        function selectAnswer(index) {
            userAnswers[currentQuestion] = index;
            updateButtons();
        }

        function updateProgress() {
            const answered = userAnswers.filter(a => a !== null).length;
            const progress = (answered / questions.length) * 100;
            
            document.getElementById('progressBar').style.width = progress + '%';
            document.getElementById('progressBar').textContent = Math.round(progress) + '%';
            document.getElementById('progressText').textContent = `å›ç­”æ¸ˆã¿ ${answered} / ${questions.length}`;
        }

        function updateButtons() {
            const prevBtn = document.getElementById('prevBtn');
            const nextBtn = document.getElementById('nextBtn');
            const submitBtn = document.getElementById('submitBtn');
            
            prevBtn.disabled = currentQuestion === 0 || quizSubmitted;
            
            if (quizSubmitted) {
                nextBtn.style.display = currentQuestion === questions.length - 1 ? 'none' : 'block';
                submitBtn.style.display = 'none';
            } else {
                const allAnswered = userAnswers.every(a => a !== null);
                
                if (currentQuestion === questions.length - 1) {
                    nextBtn.style.display = 'none';
                    submitBtn.style.display = allAnswered ? 'block' : 'none';
                } else {
                    nextBtn.style.display = 'block';
                    submitBtn.style.display = 'none';
                    nextBtn.disabled = userAnswers[currentQuestion] === null;
                }
            }
        }

        function nextQuestion() {
            if (currentQuestion < questions.length - 1) {
                currentQuestion++;
                renderQuestion();
                updateButtons();
            }
        }

        function previousQuestion() {
            if (currentQuestion > 0) {
                currentQuestion--;
                renderQuestion();
                updateButtons();
            }
        }

        function submitQuiz() {
            const unanswered = userAnswers.findIndex(a => a === null);
            if (unanswered !== -1) {
                alert(`å•é¡Œ ${unanswered + 1} ãŒã¾ã æœªå›ç­”ã§ã™ã€‚å…¨ã¦ã®å•é¡Œã«ç­”ãˆã¦ã‹ã‚‰æ¡ç‚¹ã—ã¦ãã ã•ã„ã€‚`);
                return;
            }
            
            quizSubmitted = true;
            
            let correctCount = 0;
            questions.forEach((q, index) => {
                if (userAnswers[index] === q.correct) {
                    correctCount++;
                }
            });
            
            const score = correctCount;
            const percentage = (score / questions.length * 100).toFixed(0);
            
            let message = '';
            if (score === 10) {
                message = 'ğŸ‰ å®Œç’§ã§ã™ï¼ç´ æ™´ã‚‰ã—ã„ï¼';
            } else if (score >= 8) {
                message = 'âœ… åˆæ ¼ï¼ã‚ˆãã§ãã¾ã—ãŸï¼';
            } else if (score >= 6) {
                message = 'ğŸ“š ã‚‚ã†å°‘ã—ï¼å¾©ç¿’ã—ã¦å†æŒ‘æˆ¦ï¼';
            } else {
                message = 'ğŸ’ª å‹•ç”»ã‚’è¦‹ç›´ã—ã¦å†æŒ‘æˆ¦ã—ã‚ˆã†ï¼';
            }
            
            document.getElementById('resultScore').textContent = `${score} / ${questions.length} å•æ­£è§£`;
            document.getElementById('resultMessage').textContent = message;
            document.getElementById('resultDetail').textContent = `æ­£ç­”ç‡: ${percentage}% | åˆæ ¼ãƒ©ã‚¤ãƒ³: 8/10`;
            document.getElementById('resultCard').classList.add('show');
            document.getElementById('quizContainer').style.display = 'none';
            document.querySelector('.button-container').style.display = 'none';
            
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function retryQuiz() {
            currentQuestion = 0;
            userAnswers = new Array(questions.length).fill(null);
            quizSubmitted = false;
            
            document.getElementById('resultCard').classList.remove('show');
            document.getElementById('quizContainer').style.display = 'block';
            document.querySelector('.button-container').style.display = 'flex';
            
            initQuiz();
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // åˆæœŸåŒ–
        window.onload = initQuiz;
    </script>
</body>
</html>
